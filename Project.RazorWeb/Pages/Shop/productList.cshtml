@page "/shop/products/{categoryId:int?}"
@model Project.RazorWeb.Pages.Shop.ProductListModel
@{
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Product List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="css/Homepage.css">
    <link rel="Icon" href="https://pages.ebay.com/favicon.ico" />
</head>

<body style="font-family: Arial, Helvetica, sans-serif">
    <!-- Start Header -->
    <!-- Start Header --> 
    <div class="container">
        <div class="row custom-nav">

            <span id="logorreg" class="col-auto">Hi! <a onclick="login()" class="logorreg">Sign in</a> or <a onclick="register()" class="logorreg">register</a></span>
            <a class="col-auto custom-link" onclick="fetchCategory(16)">Daily Deals</a>
            <a class="col-auto custom-link" href="">Help & Contact</a>

            <a class="nav-spacing col-auto custom-link" href="">Ship to</a>
            <a class="col-auto custom-link" onclick="fetchCategory(17)">Sell</a>
            <div class="col-auto">
                <a href="/pages/dashboard.html" class=" custom-nav" type="button">
                    Watchlist
                </a>
                <!-- <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Action</a></li>
                    <li><a class="dropdown-item" href="#">Another action</a></li>
                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul> -->
            </div>
            <div class="dropdown col-auto">
                <button class="btn dropdown-toggle custom-nav" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    My eBay
                </button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Summary</a></li>
                    <li><a class="dropdown-item" href="#">Recently Viewed</a></li>
                    <li><a class="dropdown-item" href="#">Bids/Offers</a></li>
                    <li><a class="dropdown-item" href="#">Watchlist</a></li>
                    <li><a class="dropdown-item" href="#">Purchase History</a></li>
                    <li><a class="dropdown-item" href="#">Buy Again</a></li>
                    <li><a class="dropdown-item" href="#">Selling</a></li>
                    <li><a class="dropdown-item" href="#">Saved Searches</a></li>
                    <li><a class="dropdown-item" href="#">Saved Sellers</a></li>
                    <li><a class="dropdown-item" href="#">Messages</a></li>
                </ul>
            </div>

            <img style="width: 45px; height: 30px;" src="Assets/images/bell .svg" alt="">
            <img style="width: 45px; height: 30px;" src="Assets/images/cart.svg" alt="">
        </div>
    </div>

    <hr class="custom-hr">

    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-1">
                <svg onclick="homepage()" class="ebay-logo" xmlns="http://www.w3.org/2000/svg" viewBox=".1 .1 299.8 120.125">
                    <path fill="#e53238" d="M38.867 26.309C17.721 26.309.1 35.279.1 62.345c0 21.442 11.849 34.944 39.312 34.944 32.326 0 34.398-21.294 34.398-21.294H58.147s-3.358 11.466-19.69 11.466c-13.302 0-22.869-8.986-22.869-21.58h59.861v-7.904c0-12.46-7.91-31.668-36.582-31.668zM38.32 36.41c12.662 0 21.294 7.757 21.294 19.383h-43.68c0-12.343 11.268-19.383 22.386-19.383z" />
                    <path fill="#0064d2" d="M75.438.1v83.597c0 4.745-.339 11.408-.339 11.408h14.939s.537-4.785.537-9.159c0 0 7.381 11.548 27.451 11.548 21.134 0 35.49-14.674 35.49-35.695 0-19.557-13.186-35.286-35.456-35.286-20.854 0-27.334 11.261-27.334 11.261V.1H75.438zm38.766 36.753c14.352 0 23.479 10.652 23.479 24.946 0 15.328-10.541 25.355-23.376 25.355-15.318 0-23.581-11.961-23.581-25.219 0-12.354 7.414-25.082 23.478-25.082z" />
                    <path fill="#f5af02" d="M190.645 26.309c-31.812 0-33.852 17.418-33.852 20.202h15.834s.83-10.169 16.926-10.169c10.459 0 18.564 4.788 18.564 13.991v3.276h-18.564c-24.645 0-37.674 7.21-37.674 21.841 0 14.398 12.038 22.232 28.307 22.232 22.172 0 29.314-12.251 29.314-12.251 0 4.873.375 9.675.375 9.675h14.076s-.545-5.952-.545-9.76V52.432c0-21.582-17.408-26.123-32.761-26.123zm17.472 37.128v4.368c0 5.697-3.516 19.861-24.212 19.861-11.333 0-16.192-5.656-16.192-12.217 0-11.935 16.363-12.012 40.404-12.012z" />
                    <path fill="#86b817" d="M214.879 29.041h17.813l25.565 51.218 25.506-51.218H299.9l-46.459 91.184h-16.927l13.406-25.419-35.041-65.765z" />
                </svg>
            </div>



            <button class="btn dropdown-toggle custom-category-button col-auto" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span>Shop by</span><br>
                <span>Category</span>
            </button>
            <ul class="dropdown-menu col-lg-6">
                <div class="custom-cont">

                    <div class="row custom-style-dropdown">
                        <div class=" col-lg-4">
                            <h6>Collectibles & art</h6>
                            <hr>
                            <p><a href="" class="custom-link">Collectibles</a></p>
                            <p><a href="" class="custom-link">Antiques</a></p>
                            <p><a href="" class="custom-link">Sports memorabilia</a></p>
                            <p><a href="" class="custom-link">Art</a></p>

                            <h6>Electronics</h6>
                            <hr>
                            <p><a href="" class="custom-link">Computers & tablets</a></p>
                            <p><a href="" class="custom-link">Cameras & photo</a></p>
                            <p><a href="" class="custom-link">TV, audio & surveillance</a></p>
                            <p><a href="" class="custom-link">Cell phones & accessories</a></p>

                            <h6>Fashion</h6>
                            <hr>
                            <p><a href="" class="custom-link">Women</a></p>
                            <p><a href="" class="custom-link">Men</a></p>
                            <p><a href="" class="custom-link">Jewelry & watches</a></p>
                            <p><a href="" class="custom-link">Shoes</a></p>

                        </div>

                        <div class=" col-lg-4">
                            <h6>Home & garden</h6>
                            <hr>
                            <p><a href="" class="custom-link">Yard, garden & outdoor</a></p>
                            <p><a href="" class="custom-link">Crafts</a></p>
                            <p><a href="" class="custom-link">Home improvement</a></p>
                            <p><a href="" class="custom-link">Pet supplies</a></p>

                            <h6>Auto Parts & Accessories</h6>
                            <hr>
                            <p><a href="" class="custom-link">GPS & Security Devices</a></p>
                            <p><a href="" class="custom-link">Radar & Laser Detectors</a></p>
                            <p><a href="" class="custom-link">Care & Detailing</a></p>
                            <p><a href="" class="custom-link">Scooter Parts & Accessories</a></p>

                            <h6>Musical instruments & gear</h6>
                            <hr>
                            <p><a href="" class="custom-link">Guitar</a></p>
                            <p><a href="" class="custom-link">Pro audio equipment</a></p>
                            <p><a href="" class="custom-link">String</a></p>
                            <p><a href="" class="custom-link">Stage lighting & effects</a></p>


                        </div>

                        <div class=" col-lg-4">
                            <h6>Sporting goods</h6>
                            <hr>
                            <p><a href="" class="custom-link">Outdoor sports</a></p>
                            <p><a href="" class="custom-link">Team sports</a></p>
                            <p><a href="" class="custom-link">Exercise & fitness</a></p>
                            <p><a href="" class="custom-link">Golf</a></p>

                            <h6>Toys & hobbies</h6>
                            <hr>
                            <p><a href="" class="custom-link">Radio control</a></p>
                            <p><a href="" class="custom-link">Kids toys</a></p>
                            <p><a href="" class="custom-link">Action figures</a></p>
                            <p><a href="" class="custom-link">Dolls & bears</a></p>

                            <h6>Other categories</h6>
                            <hr>
                            <p><a href="" class="custom-link">Video games & consoles</a></p>
                            <p><a href="" class="custom-link">Health & beauty</a></p>
                            <p><a href="" class="custom-link">Baby</a></p>
                            <p><a href="" class="custom-link">Business & industrial</a></p>


                        </div>

                    </div>
                </div>
            </ul>


            <form method="get" asp-page="/shop/products" class="col-lg-8" role="search">
                <div class="input-group">
                    <!-- Search Input -->
                    <input type="text" name="SearchTerm" class="form-control search-input" placeholder="Search for anything" aria-describedby="basic-addon1">

                    <!-- Category Select -->
                    <select class="form-select col-lg-2" name="CategoryId" aria-label="Category select">
                        <option value="">All Categories</option>
                        @if (Model.Categories != null && Model.Categories.Any())
                        {
                            @foreach (var category in Model.Categories)
                            {
                                <option value="@category.CategoryId">@category.CategoryName</option>
                            }
                        }
                        else
                        {
                            <option disabled>No exact matches found</option>
                        }
                    </select>

                    <!-- Search Button -->
                    <button class="col-lg-2 btn btn-primary" type="submit">Search</button>
                </div>

                <!-- Notification for No Matches -->
                @if (Model.Categories == null || !Model.Categories.Any())
                {
                    <div class="alert alert-warning mt-3" role="alert">
                        No exact matches found. Save this search to receive email alerts and notifications when new items are available.
                    </div>
                }
            </form>


            <div class="col-lg-1">
                <a href="" style="font-size: 12px;">Advanced</a>
            </div>
        </div>
    </div>



    <hr class="custom-hr">
    <!--  End Header -->


    <!--  End Body -->

    <nav class="container mt-4 mb-4" style="--bs-breadcrumb-divider: '>'" aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="../index.html" class="text-decoration-none">Home</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
                Products List
            </li>
        </ol>
    </nav>

    <!-- Start Main -->
    <main class="container-fluid">
        <section class="container-fluid">
            <div class="btn-group d-flex flex-wrap gap-2 p-3 mt-3 filter-section" role="group"
                 aria-label="Button group with nested dropdown">
                <!-- Filter Brand Btn -->
                <div class="btn-group flex-grow-1 brand" role="group">
                    <button type="button" class="btn dropdown-toggle rounded-pill filterBtn" data-bs-toggle="dropdown"
                            aria-expanded="false">
                        Brand
                    </button>
                    <ul class="dropdown-menu" id="brandFilter"></ul>
                </div>
                <!-- Filter Brand Btn -->

                
                <!-- Filter Price Btn -->
                <div class="btn-group flex-grow-1 price" role="group">
                    <button type="button" class="btn dropdown-toggle rounded-pill filterBtn" data-bs-toggle="dropdown"
                            aria-expanded="false">
                        Price
                    </button>
                    <ul class="dropdown-menu" id="priceFilter">
                        <li>
                            <a class="dropdown-item" href="#">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="price" value="under"
                                           id="under" />
                                    <label class="form-check-label" for="under">
                                        Under $110.00
                                    </label>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="#">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="price" value="inBetween"
                                           id="inBetween" />
                                    <label class="form-check-label" for="inBetween">
                                        $110.00 to $180.00
                                    </label>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="#">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="price" value="above"
                                           id="above" />
                                    <label class="form-check-label" for="above">
                                        Over $180.00
                                    </label>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
                <!-- Filter Price Btn -->

                <!-- Filter Sort Btn -->
                <div class="btn-group flex-grow-1 sort" role="group">
                    <button type="button" class="btn dropdown-toggle rounded-pill filterBtn" data-bs-toggle="dropdown"
                            aria-expanded="false">
                        Sort
                    </button>
                    
                </div>
                <!-- Filter Sort Btn -->
                
               
                <!-- Clear Filter Btn -->
                <div class="btn-group flex-grow-1 view clearBtn" role="group">
                    <button id="clearFiltersBtn" type="button" class="btn rounded-pill filterBtn">
                        Clear Filters
                    </button>
                </div>
                <!-- Clear Filter Btn -->
            </div>

            <!-- vertical Products -->
            <section class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4 py-4 productsContainer">
            </section>

            <!-- Horizontal Card -->
            <section class="row row-cols-1 py-4">
                <div class="container my-4 horizontalContainer d-none"></div>
            </section>
        </section>
    </main>
    <!-- End Main -->
    <main class="container-fluid">
        <section class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4 py-4 productsContainer">
            @if (Model.ProductViewModel != null && Model.ProductViewModel.Any())
            {
                @foreach (var product in Model.ProductViewModel)
                {
                    <div class="col">
                        <!-- Link to ProductDetail page with id parameter -->
                        <a asp-page="./ProductDetail" asp-route-id="@product.ProductId" class="text-decoration-none text-dark">
                            <div class="card h-100">
                                <!-- Loop through ImageUrls to display each image -->
                                @if (product.ImageUrls != null && product.ImageUrls.Any())
                                {
                                    @foreach (var imageUrl in product.ImageUrls)
                                    {
                                        <img src="@imageUrl" class="card-img-top mb-2" alt="@product.ProductName"
                                             style="height: 200px; object-fit: cover;">
                                    }
                                }
                                <div class="card-body">


                                    <p class="card-text">
                                        Seller:
                                        <a asp-page="/UserProfile/UserDetail" asp-route-id="@product.UserId" class="text-decoration-none">
                                            @product.SellerName
                                        </a>
                                    </p>

                                    <h5 class="card-title">@product.ProductName</h5>
                                    <p class="card-text">Price: @product.Price.ToString("C0")</p>
                                    <p class="card-text">Category: @product.CategoryName</p>
                                    <p class="card-text">Description: @product.Description</p>
                                    <p class="card-text">Quantity: @product.Quantity</p>
                                    <p class="card-text">Brand: @product.BrandName</p>
                                </div>
                            </div>
                        </a>
                    </div>
                }
            }
        </section>

    </main>


    <!-- Start Footer -->
    <!--  Start footer -->
    <hr />
    <footer class="footer">
        <div class="custom-footer container">
            <div class="row">
                <div class="custom-footer-column col-3">
                    <h6 href="https://example.com" class="footer-heads link">Buy</h6>
                    <p><a href="https://example.com" class="link">Registration</a></p>
                    <p>
                        <a href="https://example.com" class="link">eBay Money Back Guarantee</a>
                    </p>
                    <p>
                        <a href="https://example.com" class="link">Bidding & buying help</a>
                    </p>
                    <p><a href="https://example.com" class="link">Stores</a></p>
                </div>
                <div class="custom-footer-column col-2">
                    <div>
                        <h6 href="https://example.com" class="footer-heads link">Sell</h6>
                        <p>
                            <a href="https://example.com" class="link">Start selling</a>
                        </p>
                        <p>
                            <a href="https://example.com" class="link">Learn to sell</a>
                        </p>
                        <p><a href="https://example.com" class="link">Affiliates</a></p>
                    </div>
                    <div>
                        <h6 href="https://example.com" class="footer-heads link">
                            Tools & apps
                        </h6>
                        <p><a href="https://example.com" class="link">Developers</a></p>
                        <p>
                            <a href="https://example.com" class="link">Security center</a>
                        </p>
                        <p><a href="https://example.com" class="link">Site map</a></p>
                    </div>
                </div>
                <div class="custom-footer-column col-2">
                    <h6 href="https://example.com" class="footer-heads link">
                        Stay connected
                    </h6>
                    <p><a href="https://example.com" class="link">eBay's Blogs</a></p>
                    <p>
                        <a href="https://example.com" class="link">
                            <i class="fa-brands fa-facebook"></i>Facebook
                        </a>
                    </p>
                    <p>
                        <a href="https://example.com" class="link">
                            <i class="fa-brands fa-twitter"></i> Twitter
                        </a>
                    </p>
                </div>
                <div class="custom-footer-column col-2">
                    <h6 href="https://example.com" class="footer-heads link">
                        About eBay
                    </h6>
                    <p><a href="https://example.com" class="link">Company info</a></p>
                    <p><a href="https://example.com" class="link">News</a></p>
                    <p><a href="https://example.com" class="link">Investors</a></p>
                    <p><a href="https://example.com" class="link">Careers</a></p>
                    <p>
                        <a href="https://example.com" class="link">Government relations</a>
                    </p>
                    <p>
                        <a href="https://example.com" class="link">Advertise with us</a>
                    </p>
                    <p><a href="https://example.com" class="link">Policies</a></p>
                    <p>
                        <a href="https://example.com" class="link">Verified Rights Owner (VeRO) Program</a>
                    </p>
                </div>
                <div class="custom-footer-column col-3">
                    <div>
                        <h6 href="https://example.com" class="footer-heads link">
                            Help & Contact
                        </h6>
                        <p>
                            <a href="https://example.com" class="link">Seller Information Center</a>
                        </p>
                        <p><a href="https://example.com" class="link">Contact us</a></p>
                    </div>
                    <div>
                        <h6 href="https://example.com" class="footer-heads link">
                            Community
                        </h6>
                        <p>
                            <a href="https://example.com" class="link">Announcements</a>
                        </p>
                        <p>
                            <a href="https://example.com" class="link">Discussion boards</a>
                        </p>
                        <p>
                            <a href="https://example.com" class="link">eBay Giving Works</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!--  End Footer -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="js/Homepage.js"></script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <!-- <script src="../js/HomePage.js"></script> -->
    <script>
        document.getElementById("clearFiltersBtn").addEventListener("click", function () {
            // Chuyển hướng người dùng đến trang /shop/products
            window.location.href = "/shop/products";
        });
    </script>


    <script>
        // Function to set the selected category
        function setCategory(id, name) {
            document.getElementById("selectedCategory").value = id; // Set the selected category ID
            document.getElementById("categoryDropdownButton").innerText = name; // Update dropdown button text
        }
    </script>

</body>

</html>