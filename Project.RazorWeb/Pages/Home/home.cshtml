@page "/home"
@model Project.RazorWeb.Pages.Auth.Home.homeModel
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Antiforgery
@{
}





<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Home</title>
     <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/Homepage.css">
    <link rel="Icon" href="https://pages.ebay.com/favicon.ico" />


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <!-- SweetAlert2 JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


    <style>
        .dropdown-toggle {
            background-color: #f8f9fa;
            border: 1px solid #ced4da;
            color: #495057;
        }

        .dropdown-menu-1 .dropdown-item:hover {
            background-color: #e2e6ea;
        }





        .notification-container {
            position: relative;
            display: inline-block;
        }

        .notification-list {
            position: absolute;
            right: 0;
            margin-top: 10px;
            padding: 10px 0;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            width: 320px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
            pointer-events: none; /* Ngăn thao tác khi danh sách ẩn */
        }

        .notification-container.active .notification-list {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto; /* Cho phép thao tác khi danh sách hiển thị */
        }

        .notification-header {
            padding: 10px 20px;
            border-bottom: 1px solid #e0e0e0;
            font-weight: bold;
            color: #333;
        }

        .notification-item {
            padding: 15px 20px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

            .notification-item:hover {
                background-color: #f9f9f9;
            }

            .notification-item.unread {
                font-weight: bold;
                background-color: #f3f9ff;
                color: #333;
            }

            .notification-item.read {
                color: #666;
                background-color: #fff;
            }

        .notification-title {
            font-size: 16px;
            margin: 0;
        }

        .notification-message {
            font-size: 14px;
            color: #666;
            margin: 5px 0;
        }

        .notification-time {
            font-size: 12px;
            color: #999;
            text-align: right;
        }
    </style>
</head>
<body>
    <!-- signin login -->

    <div class="container">
        <div class="row custom-nav">

            <div>
                @if (User.Identity.IsAuthenticated)
                {
                    <span>Hi, <a href="/user/profile/@Model.UserId"><strong>@Model.UserName</strong></a></span>
                    <span style="float: right;">Your Balance: <strong>@Model.Balance.ToString("C0")</strong></span>


                }
                else
                {
                    <span>Hi! <a href="/auth/login">Sign in</a> or <a href="/auth/register">register</a></span>
                }
            </div>
            
           

        </div>
    </div>

    <hr class="custom-hr">
    <!-- search area -->

    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-1">
                <svg class="ebay-logo" xmlns="http://www.w3.org/2000/svg" viewBox=".1 .1 299.8 120.125">
                    <path fill="#e53238" d="M38.867 26.309C17.721 26.309.1 35.279.1 62.345c0 21.442 11.849 34.944 39.312 34.944 32.326 0 34.398-21.294 34.398-21.294H58.147s-3.358 11.466-19.69 11.466c-13.302 0-22.869-8.986-22.869-21.58h59.861v-7.904c0-12.46-7.91-31.668-36.582-31.668zM38.32 36.41c12.662 0 21.294 7.757 21.294 19.383h-43.68c0-12.343 11.268-19.383 22.386-19.383z" />
                    <path fill="#0064d2" d="M75.438.1v83.597c0 4.745-.339 11.408-.339 11.408h14.939s.537-4.785.537-9.159c0 0 7.381 11.548 27.451 11.548 21.134 0 35.49-14.674 35.49-35.695 0-19.557-13.186-35.286-35.456-35.286-20.854 0-27.334 11.261-27.334 11.261V.1H75.438zm38.766 36.753c14.352 0 23.479 10.652 23.479 24.946 0 15.328-10.541 25.355-23.376 25.355-15.318 0-23.581-11.961-23.581-25.219 0-12.354 7.414-25.082 23.478-25.082z" />
                    <path fill="#f5af02" d="M190.645 26.309c-31.812 0-33.852 17.418-33.852 20.202h15.834s.83-10.169 16.926-10.169c10.459 0 18.564 4.788 18.564 13.991v3.276h-18.564c-24.645 0-37.674 7.21-37.674 21.841 0 14.398 12.038 22.232 28.307 22.232 22.172 0 29.314-12.251 29.314-12.251 0 4.873.375 9.675.375 9.675h14.076s-.545-5.952-.545-9.76V52.432c0-21.582-17.408-26.123-32.761-26.123zm17.472 37.128v4.368c0 5.697-3.516 19.861-24.212 19.861-11.333 0-16.192-5.656-16.192-12.217 0-11.935 16.363-12.012 40.404-12.012z" />
                    <path fill="#86b817" d="M214.879 29.041h17.813l25.565 51.218 25.506-51.218H299.9l-46.459 91.184h-16.927l13.406-25.419-35.041-65.765z" />
                </svg>
            </div>



            <button class="btn  custom-category-button col-auto" type="button" aria-expanded="false">
               
            </button>
            <div class="dropdown col-auto">
                <button class="btn dropdown-toggle custom-nav" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    My eBay
                </button>
                <ul class="dropdown-menu">
             
                    <li><a class="dropdown-item" href="/user/profile/@Model.UserId">Selling</a></li>
                    <li><a class="dropdown-item" href="/purchase">Purchase History</a></li>
                </ul>
            </div>

            
            <script>
                document.querySelector('.dropdown-toggle').addEventListener('click', function () {
                    var dropdownMenu = this.nextElementSibling;
                    dropdownMenu.classList.toggle('show');
                });

            </script>
            <form method="get" asp-page="/Shop/productList" class="col-lg-8" role="search">
                <div class="input-group">
                    <!-- Search Input -->
                    <input type="text" name="SearchTerm" class="form-control search-input" placeholder="Search for anything" aria-describedby="basic-addon1">

                    <!-- Category Select -->
                    <select class="form-select col-lg-2" name="CategoryId" aria-label="Category select">
                        <option value="">All Categories</option>
                        @if (Model.Categories != null && Model.Categories.Any())
                        {
                            @foreach (var category in Model.Categories)
                            {
                                <option value="@category.CategoryId">@category.CategoryName</option>
                            }
                        }
                        else
                        {
                            <option disabled>No exact matches found</option>
                        }
                    </select>

                    <!-- Search Button -->
                    <button class="col-lg-2 btn btn-primary" type="submit">Search</button>
                </div>

                <!-- Notification for No Matches -->
                @if (Model.Categories == null || !Model.Categories.Any())
                {
                    <div class="alert alert-warning mt-3" role="alert">
                        No exact matches found. Save this search to receive email alerts and notifications when new items are available.
                    </div>
                }
            </form>



            <div class="notification-container">
                <img style="width: 45px; height: 30px; cursor: pointer;" src="Assets/images/bell .svg" alt="Thông báo" onclick="toggleNotificationList()">

                <span id="unread-count" style="position: absolute; top: 5px; background-color: red; color: white; border-radius: 50%; padding: 5px; font-size: 12px;">
                    @if (Model.UnreadNotificationCount > 0)
                    {
                        @Model.UnreadNotificationCount
                    }
                </span>


                <div id="notification-list" class="notification-list">
                    <div class="notification-header">Thông báo</div>

                    @if (Model.Notifications.Count == 0)
                    {
                        <p class="notification-empty">Không có thông báo nào</p>
                    }
                    else
                    {
                        @foreach (var notification in Model.Notifications)
                        {
                            <div class="notification-item @(notification.IsRead == true ? "read" : "unread")">
                                <p class="notification-title">@notification.Title</p>
                                <p class="notification-message">@notification.Message</p>
                                <small class="notification-time">@notification.CreatedAt?.ToString("dd/MM/yyyy HH:mm")</small>
                            </div>
                        }
                    }
                </div>
            </div>


            <div class="col-lg-1">
                <a href="/mycart">
                    <img style="width: 45px; height: 30px;" src="Assets/images/cart.svg" alt="My Cart">
                </a>
            </div>
        </div>
    </div>



    <hr class="custom-hr">

    <div class="container">
        <div class="custom-links">
            <div class="btn-group dropdown">
                <div>
                    <a href="" type="" class="btn home-link">
                        Home
                    </a>
                </div>

                <div class="innerdropdown" onmouseover="showDropdownLinks('savedIcon' , true)" onmouseout="showDropdownLinks('savedIcon' , false)">

                    <button class="btn custom-link" aria-expanded="false">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="25" height="25">
                            <path fill="pink" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                        </svg>
                        Saved
                    </button>
                    <ul class="dropdown-menu col-lg-6 save-button custom-dropdown-menu" id="savedIcon">
                    </ul>

                </div>

                <div class="innerdropdown" onmouseover="showDropdownLinks('electronicsIcon' , true)" onmouseleave="showDropdownLinks('electronicsIcon' , false)">
                    <button class="btn custom-link" aria-expanded="false" onclick="fetchCategory(8)">
                        Electronics
                    </button>
                    <ul class="dropdown-menu custom-dropdown-menu" id="electronicsIcon">
                        <div class="custom-cont">
                            <div class="row custom-style-dropdown">
                                <div class=" col-lg-3">
                                    <h6>Most popular categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Smartphones</a></p>
                                    <p><a href="" class="custom-link">Video games and consoles</a></p>
                                    <p><a href="" class="custom-link">Computers and tables</a></p>
                                    <p><a href="" class="custom-link">Cameras and photos</a></p>
                                    <p><a href="" class="custom-link">Camera drones</a></p>
                                    <p><a href="" class="custom-link">Refurbished</a></p>
                                    <p><a href="" class="custom-link">Smart home</a></p>
                                </div>

                                <div class=" col-lg-3">
                                    <h6>More categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Apple</a></p>
                                    <p><a href="" class="custom-link">Samsung</a></p>
                                    <p><a href="" class="custom-link">Portable audio and headphones</a></p>
                                    <p><a href="" class="custom-link">Emerging brands</a></p>
                                    <p><a href="" class="custom-link">Smart watches</a></p>
                                    <p><a href="" class="custom-link">Deals</a></p>
                                    <p><a href="" class="custom-link">Sell on eBay</a></p>
                                </div>

                                <img class="col-lg-6" src="Assets/images/electro.png" alt="...">

                            </div>
                        </div>
                    </ul>
                </div>

                <div class="innerdropdown" onmouseover="showDropdownLinks('motorIcon' , true)" onmouseleave="showDropdownLinks('motorIcon' , false)">
                    <button class="btn custom-link" aria-expanded="false" onclick="fetchCategory(9)">
                        Motors
                    </button>
                    <ul class="dropdown-menu custom-dropdown-menu" id="motorIcon">
                        <div class="custom-cont">
                            <div class="row custom-style-dropdown">
                                <div class=" col-lg-3">
                                    <h6>Car</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Auto and truck parts</a></p>
                                    <p><a href="" class="custom-link">Tools and supplies</a></p>
                                    <p><a href="" class="custom-link">Turbo chargers</a></p>
                                    <p><a href="" class="custom-link">Clothing and merchandise</a></p>
                                    <p><a href="" class="custom-link">Electronic and GPS</a></p>
                                    <p><a href="" class="custom-link">Air intake</a></p>
                                    <p><a href="" class="custom-link">Vintage pieces</a></p>
                                </div>

                                <div class=" col-lg-3">
                                    <h6>Motorcycle and more</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Motorcycle parts</a></p>
                                    <p><a href="" class="custom-link">Body and frame</a></p>
                                    <p><a href="" class="custom-link">Engines and parts</a></p>
                                    <p><a href="" class="custom-link">Accessories</a></p>
                                    <p><a href="" class="custom-link">Rims</a></p>
                                    <p><a href="" class="custom-link">Exhausts and systems</a></p>
                                    <p><a href="" class="custom-link">Deals</a></p>
                                </div>
                                <img class="col-lg-6" src="Assets/images/motors.png" alt="...">
                            </div>
                        </div>
                    </ul>
                </div>

                <div class="innerdropdown" onmouseover="showDropdownLinks('fashionIcon' , true)" onmouseout="showDropdownLinks('fashionIcon' , false)">
                    <button class="btn custom-link" aria-expanded="false" onclick="fetchCategory(10)">
                        Fashion
                    </button>
                    <ul class="dropdown-menu custom-dropdown-menu" id="fashionIcon">
                        <div class="custom-cont">
                            <div class="row custom-style-dropdown">
                                <div class=" col-lg-3">
                                    <h6>Most popular categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Footwear</a></p>
                                    <p><a href="" class="custom-link">Women's clothing</a></p>
                                    <p><a href="" class="custom-link">Footwear for women</a></p>
                                    <p><a href="" class="custom-link">Men's clothing</a></p>
                                    <p><a href="" class="custom-link">Men's footwear</a></p>
                                    <p><a href="" class="custom-link">Watches</a></p>
                                    <p><a href="" class="custom-link">Jewelry</a></p>
                                </div>

                                <div class=" col-lg-3">
                                    <h6>More categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Accessories for men</a></p>
                                    <p><a href="" class="custom-link">Accessories for women</a></p>
                                    <p><a href="" class="custom-link">Bags and wallets for women</a></p>
                                    <p><a href="" class="custom-link">Mens sunglasses</a></p>
                                    <p><a href="" class="custom-link">Womens sunglasess</a></p>
                                    <p><a href="" class="custom-link">Deals</a></p>
                                    <p><a href="" class="custom-link">Sell on eBay</a></p>
                                </div>
                                <img class="col-lg-6" src="Assets/images/fashion.png" alt="...">
                            </div>
                        </div>
                    </ul>
                </div>

                <div class="innerdropdown" onmouseover="showDropdownLinks('collectiblesIcon' , true)" onmouseout="showDropdownLinks('collectiblesIcon' , false)">
                    <button class="btn custom-link" aria-expanded="false" onclick="fetchCategory(11)">
                        Collectibles and Art
                    </button>
                    <ul class="dropdown-menu custom-dropdown-menu" id="collectiblesIcon">
                        <div class="custom-cont ">
                            <div class="row custom-style-dropdown">
                                <div class=" col-lg-3">
                                    <h6>Most popular categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Collectibles</a></p>
                                    <p><a href="" class="custom-link">Art</a></p>
                                    <p><a href="" class="custom-link">Action figures</a></p>
                                    <p><a href="" class="custom-link">Cartoon characters</a></p>
                                    <p><a href="" class="custom-link">Movie and TV characters</a></p>
                                    <p><a href="" class="custom-link">Diecast</a></p>
                                    <p><a href="" class="custom-link">Musical memorabilia</a></p>
                                </div>

                                <div class=" col-lg-3">
                                    <h6>More categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Sports memorabilia</a></p>
                                    <p><a href="" class="custom-link">Trading card games</a></p>
                                    <p><a href="" class="custom-link">Antiques</a></p>
                                    <p><a href="" class="custom-link">Comics</a></p>
                                    <p><a href="" class="custom-link">Funko pop</a></p>
                                    <p><a href="" class="custom-link">Star Wars</a></p>
                                    <p><a href="" class="custom-link">Sell on eBay</a></p>
                                </div>
                                <img class="col-lg-6" src="Assets/images/collections.png" alt="...">
                            </div>
                        </div>
                    </ul>
                </div>

                <div class="innerdropdown" onmouseover="showDropdownLinks('sportsIcon' , true)" onmouseout="showDropdownLinks('sportsIcon' , false)">
                    <button class="btn custom-link" aria-expanded="false" onclick="fetchCategory(12)">
                        Sports
                    </button>
                    <ul class="dropdown-menu custom-dropdown-menu" id="sportsIcon">
                        <div class="custom-cont">

                            <div class="row custom-style-dropdown">
                                <div class=" col-lg-3">
                                    <h6>Most popular categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Cycling</a></p>
                                    <p><a href="" class="custom-link">Fitness, running and yoga</a></p>
                                    <p><a href="" class="custom-link">Fitness Tech</a></p>
                                    <p><a href="" class="custom-link">Fishing</a></p>
                                    <p><a href="" class="custom-link">Camping</a></p>
                                    <p><a href="" class="custom-link">Scooters</a></p>
                                    <p><a href="" class="custom-link">Team sports</a></p>
                                </div>

                                <div class=" col-lg-3">
                                    <h6>More categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Watersports</a></p>
                                    <p><a href="" class="custom-link">Winter sports</a></p>
                                    <p><a href="" class="custom-link">Box and MMA</a></p>
                                    <p><a href="" class="custom-link">Swimming</a></p>
                                    <p><a href="" class="custom-link">GPS & Running Watches</a></p>
                                    <p><a href="" class="custom-link">Deals</a></p>
                                    <p><a href="" class="custom-link">Sell on eBay</a></p>
                                </div>
                                <img class="col-lg-6" src="Assets/images/sports.png" alt="...">
                            </div>
                        </div>
                    </ul>
                </div>

                <div class="innerdropdown" onmouseover="showDropdownLinks('healthIcon' , true)" onmouseout="showDropdownLinks('healthIcon' , false)">
                    <button class="btn custom-link" aria-expanded="false" onclick="fetchCategory(13)">
                        Health & Beauty
                    </button>
                    <ul class="dropdown-menu custom-dropdown-menu" id="healthIcon">
                        <div class="custom-cont">
                            <div class="row custom-style-dropdown">
                                <div class=" col-lg-3">
                                    <h6>Most popular categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Beauty</a></p>
                                    <p><a href="" class="custom-link">Makeup</a></p>
                                    <p><a href="" class="custom-link">Health</a></p>
                                    <p><a href="" class="custom-link">K-Beauty</a></p>
                                    <p><a href="" class="custom-link">Manicure and pedicure</a></p>
                                    <p><a href="" class="custom-link">Hair products</a></p>
                                    <p><a href="" class="custom-link">Skin products</a></p>
                                </div>

                                <div class=" col-lg-3">
                                    <h6>More categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Vitamins and food supplements</a></p>
                                    <p><a href="" class="custom-link">Shaving and waxing</a></p>
                                    <p><a href="" class="custom-link">Bath and personal hygiene</a></p>
                                    <p><a href="" class="custom-link">Oral hygiene</a></p>
                                    <p><a href="" class="custom-link">Massagers</a></p>
                                    <p><a href="" class="custom-link">Deals</a></p>
                                    <p><a href="" class="custom-link">Sell on eBay</a></p>
                                </div>
                                <img class="col-lg-6" src="Assets/images/health.png" alt="...">
                            </div>
                        </div>
                    </ul>
                </div>

                <div class="innerdropdown" onmouseover="showDropdownLinks('industrialIcon' , true)" onmouseout="showDropdownLinks('industrialIcon' , false)">
                    <button class="btn custom-link" aria-expanded="false" onclick="fetchCategory(14)">
                        Industrial equipment
                    </button>
                    <ul class="dropdown-menu custom-dropdown-menu" id="industrialIcon">
                        <div class="custom-cont">

                            <div class="row custom-style-dropdown">
                                <div class=" col-lg-3">
                                    <h6>Most popular categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Dental healthcare</a></p>
                                    <p><a href="" class="custom-link">Electronic equipment and supplies</a></p>
                                    <p><a href="" class="custom-link">Metallurgy and manufacturing</a></p>
                                    <p><a href="" class="custom-link">Motors and industrial automation</a></p>
                                    <p><a href="" class="custom-link">Heavy equipment parts</a></p>
                                    <p><a href="" class="custom-link">Light industrial tools</a></p>
                                    <p><a href="" class="custom-link">Packing and shipping</a></p>
                                </div>

                                <div class=" col-lg-3">
                                    <h6>More categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Office supplies and equipment</a></p>
                                    <p><a href="" class="custom-link">Printing and graphic arts</a></p>
                                    <p><a href="" class="custom-link">Restaurants and food service</a></p>
                                    <p><a href="" class="custom-link">Maintenance and safety</a></p>
                                    <p><a href="" class="custom-link">Retail and services</a></p>
                                    <p><a href="" class="custom-link">Deals</a></p>
                                    <p><a href="" class="custom-link">Sell on eBay</a></p>
                                </div>
                                <img class="col-lg-6" src="Assets/images/industrial.png" alt="...">
                            </div>
                        </div>
                    </ul>
                </div>

                <div class="innerdropdown" onmouseover="showDropdownLinks('homeGardenIcon' , true)" onmouseout="showDropdownLinks('homeGardenIcon' , false)">
                    <button class="btn custom-link" aria-expanded="false" onclick="fetchCategory(15)">
                        Home & Garden
                    </button>
                    <ul class="dropdown-menu custom-dropdown-menu" id="homeGardenIcon">
                        <div class="custom-cont">

                            <div class="row custom-style-dropdown">
                                <div class=" col-lg-3">
                                    <h6>Most popular categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Workshop Tools and Equipment</a></p>
                                    <p><a href="" class="custom-link">Patio, garden and outdoors</a></p>
                                    <p><a href="" class="custom-link">Home improvement</a></p>
                                    <p><a href="" class="custom-link">Kitchen, dining and bar</a></p>
                                    <p><a href="" class="custom-link">Lamps, lights and fans</a></p>
                                    <p><a href="" class="custom-link">Interior decoration</a></p>
                                    <p><a href="" class="custom-link">Home organization</a></p>
                                </div>

                                <div class=" col-lg-3">
                                    <h6>More categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Toys</a></p>
                                    <p><a href="" class="custom-link">Pets</a></p>
                                    <p><a href="" class="custom-link">Crafts</a></p>
                                    <p><a href="" class="custom-link">Art supplies</a></p>
                                    <p><a href="" class="custom-link">Musical instruments</a></p>
                                    <p><a href="" class="custom-link">Deals</a></p>
                                    <p><a href="" class="custom-link">Sell on eBay</a></p>
                                </div>
                                <img class="col-lg-6" src="Assets/images/home.png" alt="...">
                            </div>
                        </div>
                    </ul>
                </div>

                <div class="innerdropdown" onmouseover="showDropdownLinks('dealsIcon' , true)" onmouseout="showDropdownLinks('dealsIcon' , false)">
                    <button class="btn custom-link" aria-expanded="false" onclick="fetchCategory(16)">
                        Deals
                    </button>
                    <ul class="dropdown-menu custom-dropdown-menu" id="dealsIcon">
                        <div class="custom-cont">

                            <div class="row custom-style-dropdown">
                                <div class=" col-lg-3">
                                    <h6>Most popular categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Smartphones</a></p>
                                    <p><a href="" class="custom-link">Video games and consoles</a></p>
                                    <p><a href="" class="custom-link">Computers and tables</a></p>
                                    <p><a href="" class="custom-link">Cameras and photos</a></p>
                                    <p><a href="" class="custom-link">Camera drones</a></p>
                                    <p><a href="" class="custom-link">Refurbished</a></p>
                                    <p><a href="" class="custom-link">Smart home</a></p>
                                </div>

                                <div class=" col-lg-3">
                                    <h6>More categories</h6>
                                    <hr>
                                    <p><a href="" class="custom-link">Apple</a></p>
                                    <p><a href="" class="custom-link">Samsung</a></p>
                                    <p><a href="" class="custom-link">Portable audio and headphones</a></p>
                                    <p><a href="" class="custom-link">Emerging brands</a></p>
                                    <p><a href="" class="custom-link">Smart watches</a></p>
                                    <p><a href="" class="custom-link">Deals</a></p>
                                    <p><a href="" class="custom-link">Sell on eBay</a></p>
                                </div>
                            </div>
                        </div>
                    </ul>
                </div>

                <div class="innerdropdown" onmouseover="showDropdownLinks('sellIcon' , true)" onmouseout="showDropdownLinks('sellIcon' , false)">
                    <button class="btn custom-link" aria-expanded="false" onclick="fetchCategory(17)">
                        Sell
                    </button>
                    <ul class="dropdown-menu custom-dropdown-menu" id="sellIcon">
                        <div class="custom-cont">

                            <div class="row custom-style-dropdown">
                                <div class=" col-lg-3">

                                    <hr>
                                    <p><a href="" class="custom-link">How to create a listing</a></p>
                                    <p><a href="" class="custom-link">Join our growth program</a></p>
                                    <p><a href="" class="custom-link">Seller center</a></p>
                                    <p><a href="" class="custom-link">Seller updates</a></p>
                                    <p><a href="" class="custom-link">Seller customer service</a></p>
                                    <p><a href="" class="custom-link">eBay managed payments</a></p>

                                </div>

                                <div class=" col-lg-3">

                                    <hr>
                                    <p><a href="" class="custom-link">Learn to sell</a></p>
                                    <p><a href="" class="custom-link">eBay stores</a></p>
                                    <p><a href="" class="custom-link">eBay fees</a></p>
                                    <p><a href="" class="custom-link">Selling limits</a></p>
                                </div>
                                <img class="col-lg-6" src="Assets/images/sale.png" alt="...">
                            </div>
                        </div>
                    </ul>
                </div>
            </div>
        </div>

        <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
            <div class="carousel-inner caro">
                <div class="carousel-item active">
                    <div class="d-block w-100 " alt="First slide">
                        <div class="custom-slide-one row">
                            <div class="col-lg-3">
                                <h2>Discover a kaleidoscope of cards</h2>
                                <h6>Build your collection of trading cards and collectible card games.</h6>
                                <button onclick="fetchCategory(18)" type="button" id="firstSlideBtn">Find your favorites</button>
                            </div>
                            <div class="col-lg-6">
                                <img src="Assets/images/1.png" alt="">
                            </div>
                        </div>

                    </div>
                </div>
                <div class="carousel-item">
                    <div class="d-block w-100" alt="Second slide">
                        <div class=" custom-slide-two row">
                            <div class="col-lg-3">
                                <h2>Find it. Fix it. Drive it.</h2>
                                <h6>Save on a wide selection of parts on eBay.</h6>
                                <button onclick="fetchCategory(18)" type="button" id="secondSlideBtn">Shop now</button>
                            </div>
                            <div class="col-lg-6">

                                <img src="Assets/images/2.png" alt="">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="d-block w-100 custom-slide-three-image" alt="Third slide">
                        <div class="col-lg-3 custom-slide-three">
                            <h2>What do your wheels say about your car?</h2>
                            <h6>find the tires you need and more at prices you'll love.</h6>
                            <button onclick="fetchCategory(18)" type="button" id="thirdSlideBtn">Shop now</button>
                        </div>
                    </div>
                </div>
            </div>
            <div>

                <button class="carousel-control-prev" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </button>
            </div>
        </div>


        <div>
            <h3 onclick="fetchCategory(18)" class="custom-link custom-header">Explore Popular Categories</h3>
            <h6 onclick="fetchCategory(18)" class="custom-link custom-see-all">see all</h6>
        </div>

        <div class="row" style="justify-content: center;">
            @foreach (var category in Model.Categories)
            {
                <div class="custom-categories custom-column">
                    <div class="card-body" onclick="window.location.href='/shop/products/@category.CategoryId'">
                        <a class="custom-link">
                            <!-- Sử dụng ảnh tĩnh dựa trên CategoryId -->
                            @{
                                string imageUrl = "";
                                switch (category.CategoryId)
                                {
                                    case 1:
                                        imageUrl = "Assets/images/iphone.jpg"; // Ảnh cho danh mục Electronics
                                        break;
                                    case 2:
                                        imageUrl = "Assets/images/bags.jpg"; // Ảnh cho danh mục Clothings
                                        break;
                                    case 3:
                                        imageUrl = "Assets/images/box.jpg"; // Ảnh cho danh mục Home Appliances
                                        break;
                                    // Thêm các trường hợp khác nếu cần
                                    default:
                                        imageUrl = "Assets/images/default.jpg"; // Ảnh mặc định nếu không có danh mục phù hợp
                                        break;
                                }
                            }
                            <img src="@imageUrl" class="card-img-top" alt="@category.CategoryName" />
                            <span>@category.CategoryName</span> <!-- Hiển thị tên danh mục -->
                        </a>
                    </div>
                </div>
            }
        </div>



    </div>


    <div>
        <h3 onclick="fetchCategory(18)" class="custom-link custom-header">Today's Deals-All With Frees Shipping</h3>
        <h6 onclick="fetchCategory(18)" class="custom-link custom-see-all">see all</h6>
    </div>



    <div class=" cards-container">
        <div class="row" style="width: 1800px;" id="cardGroup">
            <div class="card card-dimensions">
                <!-- onclick="sendProductDetails()"  -->
                <div class="custom-image-background">
                    <div style="position: relative;">

                        <img id="campusimg" onclick="fetchFeaturedProductData(101)" src="Assets/images/campus.jpg" class="custom-card" alt="...">
                        <div>
                            <svg class="custom-circle" width="100" height="100">

                                <circle cx="20" cy="20" r="15" fill="#dbdbdbc9" />


                                <svg id="campus" onclick="heartFunction('campus','campusimg','campusinfo') " x="5" y="7" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30">
                                    <path id="img" fill="#fffffff4" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                </svg>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <h6 id="campusinfo" href="" class="custom-link">Campus 80s Shoes</h6>

                    <h6 href="#" class="card-link">150$</h6>
                </div>
            </div>

            <div class="card card-dimensions">
                <div class="custom-image-background">
                    <div style="position: relative;">

                        <img id="dysonimg" onclick="fetchFeaturedProductData(102)" src="Assets/images/vacuum-cleaner.jpg" class="custom-card" alt="...">

                        <div>
                            <svg class="custom-circle" width="100" height="100">

                                <circle cx="20" cy="20" r="15" fill="#dbdbdbc9" />


                                <svg onclick="heartFunction('dyson','dysonimg','dysoninfo')" id="dyson" x="5" y="7" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30">
                                    <path fill="#fffffff4" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                </svg>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <h6 id="dysoninfo" href="" class="custom-link">Dyson V11 Vacuum Cleaner</h6>

                    <h6 href="#" class="card-link">150$</h6>
                </div>
            </div>

            <div class="card card-dimensions">
                <div class="custom-image-background">
                    <div style="position: relative;">

                        <img id="ecoflowimg" onclick="fetchFeaturedProductData(103)" src="Assets/images/EcoFlow.jpg" class="custom-card" alt="...">

                        <div>
                            <svg class="custom-circle" width="100" height="100">

                                <circle cx="20" cy="20" r="15" fill="#dbdbdbc9" />


                                <svg onclick="heartFunction('ecoflow','ecoflowimg','ecoflowinfo')" id="ecoflow" x="5" y="7" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30">
                                    <path fill="#fffffff4" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                </svg>
                            </svg>
                        </div>
                    </div>

                </div>
                <div class="card-body">
                    <h6 id="ecoflowinfo" href="" class="custom-link">EcoFlow DELTA Portable Power Station</h6>
                    <h6 href="#" class="card-link">150$</h6>
                </div>
            </div>


            <div class="card card-dimensions">
                <div class="custom-image-background">
                    <div style="position: relative;">

                        <img id="laptopimg" onclick="fetchFeaturedProductData(104)" src="Assets/images/laptop.jpg" class="custom-card" alt="...">

                        <div>
                            <svg class="custom-circle" width="100" height="100">

                                <circle cx="20" cy="20" r="15" fill="#dbdbdbc9" />


                                <svg onclick="heartFunction('laptop','laptopimg','laptopinfo')" id="laptop" x="5" y="7" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30">
                                    <path fill="#fffffff4" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                </svg>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <h6 id="laptopinfo" href="" class="custom-link">Lenovo IdeaPad Gaming 3 AMD Laptop, 15.6"FHD</h6>
                    <h6 href="#" class="card-link">150$</h6>
                </div>
            </div>

            <div class="card card-dimensions">
                <div class="custom-image-background">
                    <div style="position: relative;">

                        <img id="crocsimg" onclick="fetchFeaturedProductData(105)" src="Assets/images/crocs.jpg" class="custom-card" alt="...">

                        <div>
                            <svg class="custom-circle" width="100" height="100">

                                <circle cx="20" cy="20" r="15" fill="#dbdbdbc9" />


                                <svg onclick="heartFunction('crocs','crocsimg','crocsinfo')" id="crocs" x="5" y="7" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30">
                                    <path fill="#fffffff4" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                </svg>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <h6 id="crocsinfo" href="" class="custom-link">Crocs Men's and Women Shoes - Bayaband Chevron Clogs</h6>
                    <h6 href="#" class="card-link">150$</h6>
                </div>
            </div>

            <div class="card card-dimensions">
                <div class="custom-image-background">
                    <div style="position: relative;">

                        <img id="iphoneimg" onclick="fetchFeaturedProductData(106)" git src="Assets/images/iphone.jpg" class="custom-card" alt="...">
                        <div>
                            <svg class="custom-circle" width="100" height="100">

                                <circle cx="20" cy="20" r="15" fill="#dbdbdbc9" />


                                <svg onclick="heartFunction('iphone','iphoneimg','iphoneinfo')" id="iphone" x="5" y="7" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30">
                                    <path fill="#fffffff4" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                </svg>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <h6 id="iphoneinfo" href="" class="custom-link">Apple iPhone 15 128GB Factory Unlocked</h6>

                    <h6 href="#" class="card-link">150$</h6>
                </div>
            </div>
        </div>
    </div>






    <div class="container custom-container custom-slide-three-image">
        <h1>It's all for the road</h1>
        <p>Find the parts and accessories you need on eBay.</p>
        <button onclick="fetchCategory(18)" type="button" style="background-color: transparent; color: #ffffff; border: 1px solid #ffffff; transition: background-color 0.3s ease, color 0.3s ease;"
                onmouseover="this.style.backgroundColor='white'; this.style.color='black';"
                onmouseout="this.style.backgroundColor='transparent'; this.style.color='#ffffff';">
            Explore offers
        </button>
    </div>

    </div>

    <hr>

    <footer class="footer">
        <div class="custom-footer container">
            <div class=" row">
                <div class="custom-footer-column">
                    <h6 href="" class="footer-heads custom-link">Buy</h6>
                    <p><a href="" class="custom-link">Registration</a></p>
                    <p><a href="" class="custom-link">eBay Money Back Guarantee</a></p>
                    <p><a href="" class="custom-link">Bidding & buying help</a></p>
                    <p><a href="" class="custom-link">Stores</a></p>
                </div>
                <div class="custom-footer-column">
                    <div>
                        <h6 href="" onclick="fetchCategory(17)" class="footer-heads link">Sell</h6>
                        <p><a href="" onclick="fetchCategory(17)" class="link">Start selling</a></p>
                        <p><a href="" class="custom-link">Learn to sell</a></p>
                        <p><a href="" class="custom-link">Affiliates</a></p>
                    </div>
                    <div>
                        <h6 href="" class="footer-heads custom-link">Tools & apps</h6>
                        <p><a href="" class="custom-link">Developers</a></p>
                        <p><a href="" class="custom-link">Security center</a></p>
                        <p><a href="" class="custom-link">Site map</a></p>
                    </div>
                </div>
                <div class="custom-footer-column">
                    <h6 href="" class="footer-heads custom-link">Stay connected</h6>
                    <p><a href="" class="custom-link">eBay's Blogs</a></p>
                    <p><a href="" class="custom-link">Facebook</a></p>
                    <p><a href="" class="custom-link">Twitter</a></p>
                </div>
                <div class="custom-footer-column">
                    <h6 href="" class="footer-heads custom-link">About eBay</h6>
                    <p><a href="" class="custom-link">Company info</a></p>
                    <p><a href="" class="custom-link">News</a></p>
                    <p><a href="" class="custom-link">Investors</a></p>
                    <p><a href="" class="custom-link">Careers</a></p>
                    <p><a href="" class="custom-link">Government relations</a></p>
                    <p><a href="" class="custom-link">Advertise with us</a></p>
                    <p><a href="" class="custom-link">Policies</a></p>
                    <p><a href="" class="custom-link">Verified Rights Owner (VeRO) Program</a></p>
                </div>
                <div class="custom-footer-column">
                    <div>
                        <h6 href="" class="footer-heads custom-link">Help & Contact</h6>
                        <p><a href="" class="custom-link">Seller Information Center</a></p>
                        <p><a href="" class="custom-link">Contact us</a></p>
                    </div>
                    <div>
                        <h6 href="" class="footer-heads custom-link">Community</h6>
                        <p><a href="" class="custom-link">Announcements</a></p>
                        <p><a href="" class="custom-link">Discussion boards</a></p>
                        <p><a href="" class="custom-link">eBay Giving Works</a></p>
                    </div>
                    <div>
                        <h6 class="footer-heads custom-link ">eBay Sites</h6>

                        <div class="" onmouseover="languages('countryDropdown', true)" onmouseout="languages('countryDropdown', false)">
                            <button type="button" class="btn">Language..</button>
                            <div class="language-container" id="countryDropdown">
                            </div>
                        </div>


                    </div>


                </div>
            </div>
        </div>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="~/js/Homepage.js"></script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script>
        // Function to set the selected category
        function setCategory(id, name) {
            document.getElementById("selectedCategory").value = id; // Set the selected category ID
            document.getElementById("categoryDropdownButton").innerText = name; // Update dropdown button text
        }
    </script>





    <script src="~/lib/microsoft/signalr/dist/browser/signalr.js"></script>
    <script>
        // Kết nối với SignalR Hub
        var connection = new signalR.HubConnectionBuilder().withUrl("/documentHub").build();


        const requestVerificationToken = '@Antiforgery.GetAndStoreTokens(HttpContext).RequestToken';

        function toggleNotificationList() {
            const notificationContainer = document.querySelector('.notification-container');
            notificationContainer.classList.toggle('active');
        }

        // Ẩn danh sách khi nhấp ra ngoài
        document.addEventListener('click', function (event) {
            const notificationContainer = document.querySelector('.notification-container');
            if (!notificationContainer.contains(event.target)) {
                notificationContainer.classList.remove('active');
            }
        });





        document.querySelector('.notification-container img').addEventListener('click', async function () {
            try {
                const response = await fetch('/home?handler=MarkAllNotificationsAsRead', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'RequestVerificationToken': requestVerificationToken
                    }
                });

                if (response.ok) {
                    // Xóa chỉ số thông báo chưa đọc
                    document.getElementById('unread-count').textContent = '';

                    // Cập nhật giao diện, xóa class "unread" khỏi tất cả thông báo
                    document.querySelectorAll('.notification-item.unread').forEach(item => {
                        item.classList.remove('unread');
                        item.classList.add('read');
                    });

                    // Xóa dấu hiệu có thông báo mới ở biểu tượng chuông
                    document.querySelector('.notification-container img').classList.remove('new-notification');
                }
            } catch (error) {
                console.error('Error marking notifications as read:', error);
            }
        });



        // Khi có thông báo từ SignalR
        connection.on("ReceiveNotification", function (data) {


            const unreadCountElement = document.getElementById('unread-count');
            const currentUnreadCount = parseInt(unreadCountElement.textContent) || 0;
            unreadCountElement.textContent = currentUnreadCount + 1;


            const notificationList = document.getElementById('notification-list');

            // Tạo phần tử thông báo mới với cấu trúc HTML tương ứng
            const notificationItem = document.createElement('div');
            notificationItem.classList.add('notification-item', 'unread');

            // Tạo phần tử tiêu đề
            const notificationTitle = document.createElement('p');
            notificationTitle.classList.add('notification-title');
            notificationTitle.textContent = data.title || "New profile view"; // Tiêu đề

            // Tạo phần tử thông điệp
            const notificationMessage = document.createElement('p');
            notificationMessage.classList.add('notification-message');
            notificationMessage.textContent = data.message || "Someone has viewed your profile."; // Nội dung thông báo

            // Tạo phần tử thời gian
            const notificationTime = document.createElement('small');
            notificationTime.classList.add('notification-time');
            const notificationDate = new Date(data.createdAt || Date.now());
            notificationTime.textContent = notificationDate.toLocaleString('vi-VN', {
                day: '2-digit', month: '2-digit', year: 'numeric', hour: '2-digit', minute: '2-digit'
            }); // Định dạng thời gian

            // Thêm các phần tử vào thông báo mới
            notificationItem.appendChild(notificationTitle);
            notificationItem.appendChild(notificationMessage);
            notificationItem.appendChild(notificationTime);

            // Thêm thông báo mới vào đầu danh sách thông báo
            notificationList.prepend(notificationItem);

            // Hiển thị biểu tượng chuông có dấu hiệu có thông báo mới nếu danh sách hiện đang ẩn
            const bellIcon = document.querySelector('.notification-container img');
            if (!notificationList.classList.contains('active')) {
                bellIcon.classList.add('new-notification');
            }

            // Hiển thị thông báo pop-up với SweetAlert2
            Swal.fire({
                title: data.title || "New profile view",
                text: data.message || "Someone has viewed your profile.",
                icon: 'info',
                confirmButtonText: 'OK',
                timer: 15000, // Thời gian hiển thị 15 giây
                timerProgressBar: true
            });
        });

        connection.start().catch(function (err) {
            return console.error(err.toString());
        });






    </script>




</body>
</html>
